/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/js/receipt.js":
/*!*********************************!*\
  !*** ./resources/js/receipt.js ***!
  \*********************************/
/***/ (() => {

eval("{function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar DownloadReceipt = /*#__PURE__*/function () {\n  function DownloadReceipt() {\n    _classCallCheck(this, DownloadReceipt);\n    this.init();\n  }\n  return _createClass(DownloadReceipt, [{\n    key: \"init\",\n    value: function init() {\n      this.bindEvents();\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this = this;\n      var downloadButton = document.querySelector('#ehxdo_download-receipt-btn');\n      downloadButton.addEventListener('click', function (e) {\n        return _this.downloadReceipt(e);\n      });\n    }\n  }, {\n    key: \"downloadReceipt\",\n    value: function downloadReceipt(e) {\n      var _window;\n      document.querySelector('#ehxdo_download-receipt-btn').textContent = 'Downloading...';\n      var donationId = document.querySelector('.ehxdo_reciept_container').dataset.donationId;\n      e.preventDefault();\n      fetch(\"\".concat((_window = window) === null || _window === void 0 || (_window = _window.EHXDonate) === null || _window === void 0 ? void 0 : _window.restUrl, \"receipt/download/\").concat(donationId), {\n        method: \"GET\",\n        headers: {\n          \"Accept\": \"application/json\"\n        }\n      }).then(function (response) {\n        return response === null || response === void 0 ? void 0 : response.json();\n      }).then(function (data) {\n        document.querySelector('#ehxdo_download-receipt-btn').textContent = 'Download Receipt ⬇️';\n        console.log({\n          data: data\n        });\n        if (data !== null && data !== void 0 && data.pdf) {\n          // Convert base64 to blob\n          var byteCharacters = atob(data.pdf);\n          var byteNumbers = new Array(byteCharacters.length);\n          for (var i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i);\n          }\n          var byteArray = new Uint8Array(byteNumbers);\n          var blob = new Blob([byteArray], {\n            type: 'application/pdf'\n          });\n\n          // Download the blob\n          var url = window.URL.createObjectURL(blob);\n          var a = document.createElement('a');\n          a.href = url;\n          a.download = (data === null || data === void 0 ? void 0 : data.filename) || 'donation_receipt.pdf';\n          document.body.appendChild(a);\n          a.click();\n          a.remove();\n          window.URL.revokeObjectURL(url);\n        } else {\n          console.error('PDF generation failed:', data.message);\n        }\n      })[\"catch\"](function (error) {\n        document.querySelector('#ehxdo_download-receipt-btn').textContent = 'Download Receipt ⬇️';\n        console.error('Download error:', error);\n      });\n    }\n  }]);\n}();\ndocument.addEventListener('DOMContentLoaded', function () {\n  new DownloadReceipt();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEb3dubG9hZFJlY2VpcHQiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbml0IiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwidmFsdWUiLCJiaW5kRXZlbnRzIiwiX3RoaXMiLCJkb3dubG9hZEJ1dHRvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiZG93bmxvYWRSZWNlaXB0IiwiX3dpbmRvdyIsInRleHRDb250ZW50IiwiZG9uYXRpb25JZCIsImRhdGFzZXQiLCJwcmV2ZW50RGVmYXVsdCIsImZldGNoIiwiY29uY2F0Iiwid2luZG93IiwiRUhYRG9uYXRlIiwicmVzdFVybCIsIm1ldGhvZCIsImhlYWRlcnMiLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJwZGYiLCJieXRlQ2hhcmFjdGVycyIsImF0b2IiLCJieXRlTnVtYmVycyIsIkFycmF5IiwibGVuZ3RoIiwiaSIsImNoYXJDb2RlQXQiLCJieXRlQXJyYXkiLCJVaW50OEFycmF5IiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYSIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiZG93bmxvYWQiLCJmaWxlbmFtZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlIiwicmV2b2tlT2JqZWN0VVJMIiwiZXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZXMiOlsid2VicGFjazovL2VoeC1kb25hdGUvLi9yZXNvdXJjZXMvanMvcmVjZWlwdC5qcz85M2JhIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIERvd25sb2FkUmVjZWlwdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgIH1cblxuICAgIGJpbmRFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IGRvd25sb2FkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VoeGRvX2Rvd25sb2FkLXJlY2VpcHQtYnRuJyk7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHRoaXMuZG93bmxvYWRSZWNlaXB0KGUpKTtcbiAgICB9XG5cbiAgICBkb3dubG9hZFJlY2VpcHQoZSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWh4ZG9fZG93bmxvYWQtcmVjZWlwdC1idG4nKS50ZXh0Q29udGVudCA9ICdEb3dubG9hZGluZy4uLic7XG4gICAgICAgIGNvbnN0IGRvbmF0aW9uSWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWh4ZG9fcmVjaWVwdF9jb250YWluZXInKS5kYXRhc2V0LmRvbmF0aW9uSWQ7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICAgICAgZmV0Y2goYCR7d2luZG93Py5FSFhEb25hdGU/LnJlc3RVcmx9cmVjZWlwdC9kb3dubG9hZC8ke2RvbmF0aW9uSWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2U/Lmpzb24oKSlcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWh4ZG9fZG93bmxvYWQtcmVjZWlwdC1idG4nKS50ZXh0Q29udGVudCA9ICdEb3dubG9hZCBSZWNlaXB0IOKsh++4jyc7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh7ZGF0YX0pO1xuICAgICAgICAgICAgaWYgKGRhdGE/LnBkZikge1xuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgYmFzZTY0IHRvIGJsb2JcbiAgICAgICAgICAgICAgICBjb25zdCBieXRlQ2hhcmFjdGVycyA9IGF0b2IoZGF0YS5wZGYpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ5dGVOdW1iZXJzID0gbmV3IEFycmF5KGJ5dGVDaGFyYWN0ZXJzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlQ2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBieXRlTnVtYmVyc1tpXSA9IGJ5dGVDaGFyYWN0ZXJzLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGJ5dGVBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ5dGVOdW1iZXJzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2J5dGVBcnJheV0sIHt0eXBlOiAnYXBwbGljYXRpb24vcGRmJ30pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIERvd25sb2FkIHRoZSBibG9iXG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgICAgYS5kb3dubG9hZCA9IGRhdGE/LmZpbGVuYW1lIHx8ICdkb25hdGlvbl9yZWNlaXB0LnBkZic7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgYS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQREYgZ2VuZXJhdGlvbiBmYWlsZWQ6JywgZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlaHhkb19kb3dubG9hZC1yZWNlaXB0LWJ0bicpLnRleHRDb250ZW50ID0gJ0Rvd25sb2FkIFJlY2VpcHQg4qyH77iPJztcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Rvd25sb2FkIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgIG5ldyBEb3dubG9hZFJlY2VpcHQoKTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0lBQU1BLGVBQWU7RUFDakIsU0FBQUEsZ0JBQUEsRUFBYztJQUFBQyxlQUFBLE9BQUFELGVBQUE7SUFDVixJQUFJLENBQUNFLElBQUksQ0FBQyxDQUFDO0VBQ2Y7RUFBQyxPQUFBQyxZQUFBLENBQUFILGVBQUE7SUFBQUksR0FBQTtJQUFBQyxLQUFBLEVBRUQsU0FBQUgsSUFBSUEsQ0FBQSxFQUFHO01BQ0gsSUFBSSxDQUFDSSxVQUFVLENBQUMsQ0FBQztJQUNyQjtFQUFDO0lBQUFGLEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFDLFVBQVVBLENBQUEsRUFBRztNQUFBLElBQUFDLEtBQUE7TUFDVCxJQUFNQyxjQUFjLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLDZCQUE2QixDQUFDO01BQzVFRixjQUFjLENBQUNHLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFDQyxDQUFDO1FBQUEsT0FBS0wsS0FBSSxDQUFDTSxlQUFlLENBQUNELENBQUMsQ0FBQztNQUFBLEVBQUM7SUFDNUU7RUFBQztJQUFBUixHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBUSxlQUFlQSxDQUFDRCxDQUFDLEVBQUU7TUFBQSxJQUFBRSxPQUFBO01BQ2ZMLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLDZCQUE2QixDQUFDLENBQUNLLFdBQVcsR0FBRyxnQkFBZ0I7TUFDcEYsSUFBTUMsVUFBVSxHQUFHUCxRQUFRLENBQUNDLGFBQWEsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDTyxPQUFPLENBQUNELFVBQVU7TUFDeEZKLENBQUMsQ0FBQ00sY0FBYyxDQUFDLENBQUM7TUFFbEJDLEtBQUssSUFBQUMsTUFBQSxFQUFBTixPQUFBLEdBQUlPLE1BQU0sY0FBQVAsT0FBQSxnQkFBQUEsT0FBQSxHQUFOQSxPQUFBLENBQVFRLFNBQVMsY0FBQVIsT0FBQSx1QkFBakJBLE9BQUEsQ0FBbUJTLE9BQU8sdUJBQUFILE1BQUEsQ0FBb0JKLFVBQVUsR0FBSTtRQUNqRVEsTUFBTSxFQUFFLEtBQUs7UUFDYkMsT0FBTyxFQUFFO1VBQ0wsUUFBUSxFQUFFO1FBQ2Q7TUFDSixDQUFDLENBQUMsQ0FDREMsSUFBSSxDQUFDLFVBQUFDLFFBQVE7UUFBQSxPQUFJQSxRQUFRLGFBQVJBLFFBQVEsdUJBQVJBLFFBQVEsQ0FBRUMsSUFBSSxDQUFDLENBQUM7TUFBQSxFQUFDLENBQ2xDRixJQUFJLENBQUMsVUFBQUcsSUFBSSxFQUFJO1FBQ1ZwQixRQUFRLENBQUNDLGFBQWEsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDSyxXQUFXLEdBQUcscUJBQXFCO1FBQ3pGZSxPQUFPLENBQUNDLEdBQUcsQ0FBQztVQUFDRixJQUFJLEVBQUpBO1FBQUksQ0FBQyxDQUFDO1FBQ25CLElBQUlBLElBQUksYUFBSkEsSUFBSSxlQUFKQSxJQUFJLENBQUVHLEdBQUcsRUFBRTtVQUNYO1VBQ0EsSUFBTUMsY0FBYyxHQUFHQyxJQUFJLENBQUNMLElBQUksQ0FBQ0csR0FBRyxDQUFDO1VBQ3JDLElBQU1HLFdBQVcsR0FBRyxJQUFJQyxLQUFLLENBQUNILGNBQWMsQ0FBQ0ksTUFBTSxDQUFDO1VBQ3BELEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHTCxjQUFjLENBQUNJLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7WUFDNUNILFdBQVcsQ0FBQ0csQ0FBQyxDQUFDLEdBQUdMLGNBQWMsQ0FBQ00sVUFBVSxDQUFDRCxDQUFDLENBQUM7VUFDakQ7VUFDQSxJQUFNRSxTQUFTLEdBQUcsSUFBSUMsVUFBVSxDQUFDTixXQUFXLENBQUM7VUFDN0MsSUFBTU8sSUFBSSxHQUFHLElBQUlDLElBQUksQ0FBQyxDQUFDSCxTQUFTLENBQUMsRUFBRTtZQUFDSSxJQUFJLEVBQUU7VUFBaUIsQ0FBQyxDQUFDOztVQUU3RDtVQUNBLElBQU1DLEdBQUcsR0FBR3hCLE1BQU0sQ0FBQ3lCLEdBQUcsQ0FBQ0MsZUFBZSxDQUFDTCxJQUFJLENBQUM7VUFDNUMsSUFBTU0sQ0FBQyxHQUFHdkMsUUFBUSxDQUFDd0MsYUFBYSxDQUFDLEdBQUcsQ0FBQztVQUNyQ0QsQ0FBQyxDQUFDRSxJQUFJLEdBQUdMLEdBQUc7VUFDWkcsQ0FBQyxDQUFDRyxRQUFRLEdBQUcsQ0FBQXRCLElBQUksYUFBSkEsSUFBSSx1QkFBSkEsSUFBSSxDQUFFdUIsUUFBUSxLQUFJLHNCQUFzQjtVQUNyRDNDLFFBQVEsQ0FBQzRDLElBQUksQ0FBQ0MsV0FBVyxDQUFDTixDQUFDLENBQUM7VUFDNUJBLENBQUMsQ0FBQ08sS0FBSyxDQUFDLENBQUM7VUFDVFAsQ0FBQyxDQUFDUSxNQUFNLENBQUMsQ0FBQztVQUNWbkMsTUFBTSxDQUFDeUIsR0FBRyxDQUFDVyxlQUFlLENBQUNaLEdBQUcsQ0FBQztRQUNuQyxDQUFDLE1BQU07VUFDSGYsT0FBTyxDQUFDNEIsS0FBSyxDQUFDLHdCQUF3QixFQUFFN0IsSUFBSSxDQUFDOEIsT0FBTyxDQUFDO1FBQ3pEO01BQ0osQ0FBQyxDQUFDLFNBQ0ksQ0FBQyxVQUFBRCxLQUFLLEVBQUk7UUFDQWpELFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLDZCQUE2QixDQUFDLENBQUNLLFdBQVcsR0FBRyxxQkFBcUI7UUFDckdlLE9BQU8sQ0FBQzRCLEtBQUssQ0FBQyxpQkFBaUIsRUFBRUEsS0FBSyxDQUFDO01BQzNDLENBQUMsQ0FBQztJQUNOO0VBQUM7QUFBQTtBQUdMakQsUUFBUSxDQUFDRSxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxZQUFNO0VBQ2hELElBQUlYLGVBQWUsQ0FBQyxDQUFDO0FBQ3pCLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvcmVjZWlwdC5qcyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/receipt.js\n\n}");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./resources/js/receipt.js"]();
/******/ 	
/******/ })()
;